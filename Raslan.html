<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رسلان - الحلول الذكية</title>
    <link rel="icon" href="https://i.postimg.cc/mDcf1TN3/Untitle22d-8-01.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="google-site-verification" content="LXqGD9G6hqE8gHv98OsI3NX94Yb-yxuV-bZXgVH2xR4" />
    <style>
        :root {
            --primary: #0c4873;
            --white: #ffffff;
            --glass-bg: rgba(255, 255, 255, 0.15);
            --glass-border: rgba(255, 255, 255, 0.2);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; scroll-behavior: smooth; }
        body { overflow-x: hidden; background-color: #f0f4f8; }
        .glass-card { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); transition: all 0.3s ease; }
        .glass-card:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15); }
        .hero-slider { height: 100vh; position: relative; overflow: hidden; }
        .slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 1s ease-in-out; background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; }
        .slide::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(5px); }
        .slide.active { opacity: 1; }
        .fade-in { opacity: 0; transform: translateY(20px); transition: opacity 0.8s ease, transform 0.8s ease; }
        .fade-in.visible { opacity: 1; transform: translateY(0); }
        .btn-glass { background-color: rgba(12, 72, 115, 0.7); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); color: var(--white); border: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.3s ease; }
        .btn-glass:hover { background-color: rgba(12, 72, 115, 0.9); transform: translateY(-3px); box-shadow: 0 10px 20px rgba(12, 72, 115, 0.3); }
        .whatsapp-float { position: fixed; bottom: 30px; right: 30px; background-color: rgba(37, 211, 102, 0.8); backdrop-filter: blur(5px); color: white; border-radius: 50%; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; font-size: 30px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); z-index: 1000; transition: all 0.3s ease; border: 1px solid rgba(255, 255, 255, 0.2); }
        .whatsapp-float:hover { transform: scale(1.1); background-color: rgba(37, 211, 102, 1); }
        .team-card:hover img { transform: scale(1.05); }
        .team-card img { transition: transform 0.3s ease; }
        .service-card { background-color: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); border-radius: 1rem; overflow: hidden; transition: all 0.3s ease; }
        .service-card:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15); }
        .service-card-header { position: relative; height: 180px; background-size: cover; background-position: center; display: flex; align-items: flex-end; padding: 1rem; }
        .service-card-header::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to top, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0) 50%); z-index: 1; }
        .service-card-header h3 { position: relative; z-index: 2; color: var(--white); font-size: 1.5rem; font-weight: bold; width: 100%; }
        html[lang="ar"] .service-card-header h3 { text-align: right; }
        html[lang="en"] .service-card-header h3 { text-align: left; }
        .service-card-description { background-color: var(--white); padding: 1.5rem; color: #4a5568; }
        .lang-switcher-btn { cursor: pointer; transition: all 0.3s ease; color: var(--white); font-weight: bold; background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); padding: 0.5rem 1rem; border-radius: 0.75rem; display: flex; align-items: center; }
        .lang-switcher-btn:hover { color: #d1d5db; }
        .section-bg { background-image: linear-gradient(135deg, #f0f4f8 0%, #e6eef5 100%); }
        .section-bg-alt { background-image: linear-gradient(135deg, #e6eef5 0%, #f0f4f8 100%); }
        .scrolled-header { position: fixed; top: 0; left: 0; width: 100%; background-color: rgba(12, 72, 115, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); z-index: 999; transform: translateY(-100%); transition: transform 0.3s ease-out; display: flex; align-items: center; padding: 0.5rem 0; }
        .scrolled-header.visible { transform: translateY(0); }
        .overlapping-grid-container { overflow-x: hidden; -webkit-overflow-scrolling: touch; cursor: grab; position: relative; }
        .overlapping-grid-container.is-dragging { cursor: grabbing; }
        .overlapping-grid { display: flex; flex-wrap: nowrap; align-items: flex-start; gap: 1.5rem; }
        .overlapping-grid-item { flex: 0 0 auto; width: 280px; height: 200px; position: relative; background-color: var(--glass-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); transition: all 0.3s ease; overflow: hidden; border-radius: 1rem; z-index: 1; }
        .overlapping-grid-item:hover { transform: translateY(-15px) scale(1.08); box-shadow: 0 18px 40px rgba(0, 0, 0, 0.25); z-index: 10; }
        .overlapping-grid-item img { width: 100%; height: 100%; object-fit: cover; }
        html[lang="en"] [data-lang="ar"] { display: none !important; }
        html[lang="ar"] [data-lang="en"] { display: none !important; }
    </style>
</head>
<body>

    <!-- HERO SLIDER -->
    <section class="hero-slider">
        <div class="slide active" style="background-image: url('https://i.postimg.cc/nV5P6cLt/R.jpg');"></div>
        <div class="slide" style="background-image: url('https://i.postimg.cc/9XqJ4DTg/Pengurusan-SKA-SBU-IUJK-ISO-OHSAS-SE-INDONESIA-MURAH-CEPAT-0812-81008374.jpg');"></div>
        <div class="container mx-auto text-center relative z-10 p-4">
            <img src="https://i.postimg.cc/vTSqdn65/20250620-0236-Soapstone-on-Quarry-remix-01jy58qdz9eyxrq9wmb23hy49x-01.png" alt="Raslan Logo" class="mx-auto w-64 md:w-80 mb-8 drop-shadow-2xl">
            <p class="text-xl md:text-2xl text-white mb-8 max-w-2xl mx-auto drop-shadow-md" data-lang="ar">رسلان للحلول الذكية... هندسة دقيقة، وجودة لا تُضاهى</p>
            <p class="text-xl md:text-2xl text-white mb-8 max-w-2xl mx-auto drop-shadow-md" data-lang="en">Raslan for Smart Solutions... Precise Engineering, Unmatched Quality</p>
            <a href="#services" class="btn-glass px-8 py-3 rounded-lg text-lg font-bold inline-block" data-lang="ar">خدماتنا</a>
            <a href="#services" class="btn-glass px-8 py-3 rounded-lg text-lg font-bold inline-block" data-lang="en">Our Services</a>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about" class="py-20 section-bg">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="ar">من نحن</h2>
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="en">About Us</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                <div class="fade-in">
                    <div class="glass-card p-8 rounded-2xl mb-8">
                        <p id="about-p1-ar" class="text-lg mb-6 text-gray-700" data-lang="ar"></p>
                        <p id="about-p1-en" class="text-lg mb-6 text-gray-700" data-lang="en"></p>
                    </div>
                    <div class="glass-card p-8 rounded-2xl mb-8">
                        <h3 id="vision-title-ar" class="text-2xl font-bold mb-3 text-[#0c4873]" data-lang="ar"></h3>
                        <h3 id="vision-title-en" class="text-2xl font-bold mb-3 text-[#0c4873]" data-lang="en"></h3>
                        <p id="vision-p1-ar" class="text-gray-700" data-lang="ar"></p>
                        <p id="vision-p1-en" class="text-gray-700" data-lang="en"></p>
                    </div>
                    <div class="glass-card p-8 rounded-2xl">
                        <h3 id="mission-title-ar" class="text-2xl font-bold mb-3 text-[#0c4873]" data-lang="ar"></h3>
                        <h3 id="mission-title-en" class="text-2xl font-bold mb-3 text-[#0c4873]" data-lang="en"></h3>
                        <p id="mission-speed-ar" class="text-gray-700 font-bold mb-2" data-lang="ar"></p>
                        <p id="mission-speed-en" class="text-gray-700 font-bold mb-2" data-lang="en"></p>
                        <p id="mission-speed-desc-ar" class="text-gray-700 mb-6" data-lang="ar"></p>
                        <p id="mission-speed-desc-en" class="text-gray-700 mb-6" data-lang="en"></p>
                        <p id="mission-price-ar" class="text-gray-700 font-bold mb-2" data-lang="ar"></p>
                        <p id="mission-price-en" class="text-gray-700 font-bold mb-2" data-lang="en"></p>
                        <p id="mission-price-desc-ar" class="text-gray-700" data-lang="ar"></p>
                        <p id="mission-price-desc-en" class="text-gray-700" data-lang="en"></p>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-6 fade-in place-items-start">
                    <div class="overflow-hidden rounded-2xl shadow-lg glass-card w-full">
                        <img id="about-img1" src="" alt="About Raslan Image 1" class="w-full h-full object-cover">
                    </div>
                    <div class="overflow-hidden rounded-2xl shadow-lg glass-card w-full mt-12">
                        <img id="about-img2" src="" alt="About Raslan Image 2" class="w-full h-full object-cover">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SERVICES SECTION -->
    <section id="services" class="py-20 section-bg-alt">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="ar">خدماتنا</h2>
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="en">Our Services</h2>
            <div id="services-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Service cards will be inserted here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- PROJECTS SECTION -->
    <section id="projects" class="py-20 section-bg">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="ar">مشاريعنا</h2>
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="en">Our Projects</h2>
            <div id="projects-container" class="grid grid-cols-1 md:grid-cols-2 gap-12">
                <!-- Project cards will be inserted here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- WORK HEROES SECTION -->
    <section id="work-heroes" class="py-20 section-bg-alt">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="ar">أبطال أعمالنا</h2>
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="en">Our Work Heroes</h2>
            <div class="overlapping-grid-container fade-in">
                <div id="work-heroes-container" class="overlapping-grid">
                    <!-- Work heroes images will be inserted here by JavaScript -->
                </div>
            </div>
        </div>
    </section>
    
    <!-- TEAM SECTION -->
    <section id="team" class="py-20 section-bg">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="ar">تعرف على فريقنا</h2>
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="en">Meet Our Team</h2>
            <div id="team-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Team cards will be inserted here by JavaScript -->
            </div>
        </div>
    </section>
    
    <!-- CLIENTS SECTION -->
    <section id="clients" class="py-20 section-bg-alt">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="ar">عملائنا</h2>
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="en">Our Clients</h2>
            <div id="clients-container" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 items-center justify-items-center mx-auto max-w-fit">
                <!-- Client logos will be inserted here by JavaScript -->
            </div>
        </div>
    </section>
    
    <!-- CONTACT SECTION -->
    <section id="contact" class="py-20 section-bg">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="ar">تواصل معنا</h2>
            <h2 class="text-4xl font-bold text-center mb-16 text-[#0c4873] fade-in" data-lang="en">Contact Us</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div class="fade-in">
                    <div class="glass-card rounded-2xl p-8 mb-8 space-y-6">
                        <div class="flex items-start gap-4">
                            <i class="fas fa-map-marker-alt text-xl text-[#0c4873] mt-1"></i>
                            <div>
                                <p id="contact-address-ar" class="text-gray-600" data-lang="ar"></p>
                                <p id="contact-address-en" class="text-gray-600" data-lang="en"></p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <i class="fas fa-envelope text-xl text-[#0c4873] mt-1"></i>
                            <div>
                                <a id="contact-email-link" href="#" class="text-gray-600 hover:text-[#0c4873]"></a>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                             <i class="fas fa-phone-alt text-xl text-[#0c4873] mt-1"></i>
                            <div>
                                <a id="contact-phone-link" href="#" class="text-gray-600 hover:text-[#0c4873]" dir="ltr"></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="fade-in">
                    <div class="glass-card rounded-2xl overflow-hidden h-full min-h-[400px]">
                        <iframe id="contact-map-iframe" src="" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-[#0c4873] text-white py-8">
        <div class="container mx-auto px-4 text-center">
             <p id="footer-copyright-ar" data-lang="ar"></p>
             <p id="footer-copyright-en" data-lang="en"></p>
             <p id="footer-powered-by-ar" data-lang="ar"></p>
             <p id="footer-powered-by-en" data-lang="en"></p>
        </div>
    </footer>

    <!-- WHATSAPP FLOAT -->
    <a id="whatsapp-float-link" href="#" target="_blank" class="whatsapp-float">
        <i class="fab fa-whatsapp"></i>
    </a>
    
    <!-- LANGUAGE SWITCHER BUTTON -->
    <div onclick="toggleLanguage()" class="lang-switcher-btn fixed top-5 left-5 z-[1001]">
        <span id="lang-text"></span>
    </div>

    <!-- FIREBASE AND APP LOGIC SCRIPT -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
        import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";

        // Your provided Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyA12fSyvBCdVF62xVwGaEuJXlJOpGEMoKI",
            authDomain: "raslan2025-47c6c.firebaseapp.com",
            databaseURL: "https://raslan2025-47c6c-default-rtdb.firebaseio.com",
            projectId: "raslan2025-47c6c",
            storageBucket: "raslan2025-47c6c.appspot.com",
            messagingSenderId: "320802083048",
            appId: "1:320802083048:web:3c2d279b270443bfbc395d",
            measurementId: "G-W1GWY4X7D6"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // --- Helper function to fetch data ---
        async function fetchRealtimeData(path) {
            try {
                const snapshot = await get(ref(db, path));
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    // Convert objects to arrays for lists, but not for single items like 'about'
                    if (path !== 'about' && path !== 'contact' && path !== 'footer' && typeof data === 'object' && data !== null) {
                         return Object.values(data);
                    }
                    return data;
                }
                console.warn(`No data found at path: ${path}`);
                return null;
            } catch (error) {
                console.error(`Error fetching data from ${path}:`, error);
                return null;
            }
        }

        // --- Data Loading Functions ---

        async function loadAboutSection() {
            const data = await fetchRealtimeData('about');
            if (!data) return;
            document.getElementById('about-p1-ar').textContent = data.aboutP1Ar || '';
            document.getElementById('about-p1-en').textContent = data.aboutP1En || '';
            document.getElementById('vision-title-ar').textContent = data.visionTitleAr || '';
            document.getElementById('vision-title-en').textContent = data.visionTitleEn || '';
            document.getElementById('vision-p1-ar').textContent = data.visionP1Ar || '';
            document.getElementById('vision-p1-en').textContent = data.visionP1En || '';
            document.getElementById('mission-title-ar').textContent = data.missionTitleAr || '';
            document.getElementById('mission-title-en').textContent = data.missionTitleEn || '';
            document.getElementById('mission-speed-ar').textContent = data.missionSpeedAr || '';
            document.getElementById('mission-speed-en').textContent = data.missionSpeedEn || '';
            document.getElementById('mission-speed-desc-ar').textContent = data.missionSpeedDescAr || '';
            document.getElementById('mission-speed-desc-en').textContent = data.missionSpeedDescEn || '';
            document.getElementById('mission-price-ar').textContent = data.missionPriceAr || '';
            document.getElementById('mission-price-en').textContent = data.missionPriceEn || '';
            document.getElementById('mission-price-desc-ar').textContent = data.missionPriceDescAr || '';
            document.getElementById('mission-price-desc-en').textContent = data.missionPriceDescEn || '';
            document.getElementById('about-img1').src = data.aboutImg1Url || '';
            document.getElementById('about-img2').src = data.aboutImg2Url || '';
        }

        async function loadServices() {
            const data = await fetchRealtimeData('services');
            const container = document.getElementById('services-container');
            if (!data || !container) return;
            container.innerHTML = '';
            data.forEach(service => {
                container.innerHTML += `
                    <div class="service-card fade-in">
                        <div class="service-card-header" style="background-image: url('${service.imageUrl || ''}');">
                            <h3 data-lang="ar">${service.titleAr || ''}</h3>
                            <h3 data-lang="en">${service.titleEn || ''}</h3>
                        </div>
                        <div class="service-card-description">
                            <p data-lang="ar">${service.descAr || ''}</p>
                            <p data-lang="en">${service.descEn || ''}</p>
                        </div>
                    </div>`;
            });
        }
        
        async function loadProjects() {
            const data = await fetchRealtimeData('projects');
            const container = document.getElementById('projects-container');
            if (!data || !container) return;
            container.innerHTML = '';
            data.forEach(project => {
                container.innerHTML += `
                    <div class="glass-card rounded-2xl overflow-hidden shadow-lg fade-in">
                        <img src="${project.imageUrl || ''}" alt="${project.titleAr}" class="w-full h-64 object-cover">
                        <div class="p-8">
                            <h3 class="text-2xl font-bold mb-3 text-[#0c4873]" data-lang="ar">${project.titleAr || ''}</h3>
                            <h3 class="text-2xl font-bold mb-3 text-[#0c4873]" data-lang="en">${project.titleEn || ''}</h3>
                            <p class="text-gray-700" data-lang="ar">${project.descAr || ''}</p>
                            <p class="text-gray-700" data-lang="en">${project.descEn || ''}</p>
                        </div>
                    </div>`;
            });
        }
        
        async function loadWorkHeroes() {
            const data = await fetchRealtimeData('workHeroes');
            const container = document.getElementById('work-heroes-container');
            if (!data || !container) return;
            container.innerHTML = '';
            data.forEach(hero => {
                container.innerHTML += `
                    <div class="overlapping-grid-item">
                        <img src="${hero.imageUrl || ''}" alt="Work Hero">
                    </div>`;
            });
        }

        async function loadTeam() {
            const data = await fetchRealtimeData('team');
            const container = document.getElementById('team-container');
            if (!data || !container) return;
            container.innerHTML = '';
            data.forEach(member => {
                 container.innerHTML += `
                    <div class="team-card glass-card rounded-2xl overflow-hidden fade-in">
                        <div class="overflow-hidden h-80">
                            <img src="${member.imageUrl || ''}" alt="${member.nameAr}" class="w-full h-full object-cover">
                        </div>
                        <div class="p-6 text-center">
                            <h3 class="text-xl font-bold mb-2 text-[#0c4873]" data-lang="ar">${member.nameAr || ''}</h3>
                            <h3 class="text-xl font-bold mb-2 text-[#0c4873]" data-lang="en">${member.nameEn || ''}</h3>
                            <p class="text-gray-600" data-lang="ar">${member.positionAr || ''}</p>
                            <p class="text-gray-600" data-lang="en">${member.positionEn || ''}</p>
                        </div>
                    </div>`;
            });
        }

        async function loadClients() {
            const data = await fetchRealtimeData('clients');
            const container = document.getElementById('clients-container');
            if (!data || !container) return;
            container.innerHTML = '';
            data.forEach(client => {
                container.innerHTML += `
                    <div class="glass-card p-6 rounded-2xl fade-in flex justify-center items-center">
                        <img src="${client.logoUrl || ''}" alt="Client Logo" class="max-h-24 w-auto">
                    </div>`;
            });
        }

        async function loadContact() {
            const data = await fetchRealtimeData('contact');
            if (!data) return;
            document.getElementById('contact-address-ar').textContent = data.addressAr || '';
            document.getElementById('contact-address-en').textContent = data.addressEn || '';
            document.getElementById('contact-email-link').href = 'mailto:' + (data.email || '');
            document.getElementById('contact-email-link').textContent = data.email || '';
            document.getElementById('contact-phone-link').href = 'tel:' + (data.phone || '');
            document.getElementById('contact-phone-link').textContent = data.phone || '';
            document.getElementById('contact-map-iframe').src = data.mapIframeSrc || '';
            document.getElementById('whatsapp-float-link').href = `https://wa.me/${data.whatsappFloatPhone || ''}`;
        }
        
        async function loadFooter() {
            const data = await fetchRealtimeData('footer');
            if (!data) return;
            document.getElementById('footer-copyright-ar').textContent = data.copyrightAr || '';
            document.getElementById('footer-copyright-en').textContent = data.copyrightEn || '';
            const poweredByAr = document.getElementById('footer-powered-by-ar');
            const poweredByEn = document.getElementById('footer-powered-by-en');
            poweredByAr.innerHTML = `${data.poweredByAr || ''} <a href="${data.developerWhatsapp || '#'}" target="_blank" class="font-bold hover:underline"><i class="fab fa-whatsapp"></i></a>`;
            poweredByEn.innerHTML = `${data.poweredByEn || ''} <a href="${data.developerWhatsapp || '#'}" target="_blank" class="font-bold hover:underline"><i class="fab fa-whatsapp"></i></a>`;
        }
        
        // --- Static UI Logic (Slider, Language, Scroll) ---
        function setupUI() {
            // Slider
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            if (slides.length > 0) {
                 setInterval(() => {
                    slides[currentSlide].classList.remove('active');
                    currentSlide = (currentSlide + 1) % slides.length;
                    slides[currentSlide].classList.add('active');
                }, 3000);
            }

            // Fade-in on scroll
            const fadeElements = document.querySelectorAll('.fade-in');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });
            fadeElements.forEach(el => observer.observe(el));
        }

        // --- Language Switcher ---
        function setLanguage(lang) {
            document.documentElement.setAttribute('lang', lang);
            document.documentElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
            localStorage.setItem('preferredLanguage', lang);
            document.getElementById('lang-text').textContent = (lang === 'ar') ? 'English' : 'عربي';
        }

        window.toggleLanguage = function() {
            const newLang = document.documentElement.lang === 'ar' ? 'en' : 'ar';
            setLanguage(newLang);
        }

        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', async () => {
            // Load all data from Firebase
            await Promise.all([
                loadAboutSection(),
                loadServices(),
                loadProjects(),
                loadWorkHeroes(),
                loadTeam(),
                loadClients(),
                loadContact(),
                loadFooter()
            ]);
            
            // Setup static UI interactions
            setupUI();

            // Set initial language
            const initialLang = localStorage.getItem('preferredLanguage') || 'ar';
            setLanguage(initialLang);
        });
    </script>
</body>
</html>
